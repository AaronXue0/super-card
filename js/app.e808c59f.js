(function(t){function e(e){for(var r,i,c=e[0],o=e[1],l=e[2],u=0,p=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},s=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"3dadbf0a"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=i(t);var l=new Error;s=function(e){o.onerror=o.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/super-card/",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2a73":function(t,e,a){"use strict";var r=a("d131"),n=a.n(r);n.a},"2d31":function(t,e,a){},"2f42":function(t,e,a){},"3c47":function(t,e,a){"use strict";var r=a("8394"),n=a.n(r);n.a},"40de":function(t,e,a){},4230:function(t,e,a){},"461e":function(t,e,a){},"526a":function(t,e,a){"use strict";var r=a("6bba"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("appbar"),a("drawerbar"),a("v-content",[a("router-view")],1),a("footbar")],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{attrs:{color:"white",app:"",fixed:"",elevation:"0"}},[a("v-app-bar-nav-icon",{attrs:{color:"black"},on:{click:t.openDrawer}}),a("v-spacer"),a("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog",fullscreen:""},model:{value:t.getLoading,callback:function(e){t.getLoading=e},expression:"getLoading"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-row",{attrs:{justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:70,width:7,color:"primary"}})],1)],1)],1),t.getUser?a("span",{staticClass:"noto-font"},[t._v(t._s(t.getUser.displayName))]):a("span",{staticClass:"noto-font"},[t._v("Sign In")]),a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){return t.Login()}}},[a("v-icon",{staticClass:"custom-starry-icon-left",attrs:{large:"",color:"primary"}},[t._v("mdi-crop-free")])],1),a("logout",{attrs:{dialog:t.dialog},on:{"cancel-dialog":t.cancelDialog}})],1)},c=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline secondary lighten-2",attrs:{"primary-title":""}},[a("p",{staticClass:"white--text"},[t._v("Log out")])]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.logout}},[t._v(" OK ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)],1)},l=[],u={data:function(){return{}},props:["dialog"],components:{},methods:{logout:function(){var t=this;t.$emit("cancel-dialog",!1),t.$store.dispatch("userSignOut")},cancel:function(){var t=this;t.$emit("cancel-dialog",!1)}},computed:{},mounted:function(){}},d=u,p=a("2877"),f=a("6544"),v=a.n(f),m=a("8336"),h=a("b0af"),g=a("99d9"),b=a("169a"),y=a("ce7e"),_=a("2fa4"),w=Object(p["a"])(d,o,l,!1,null,null,null),C=w.exports;v()(w,{VBtn:m["a"],VCard:h["a"],VCardActions:g["a"],VCardTitle:g["c"],VDialog:b["a"],VDivider:y["a"],VSpacer:_["a"]});var x={data:function(){return{dialog:!1,loading:!1}},methods:{Login:function(){var t=this;t.getUser?t.dialog=!0:t.$store.dispatch("userSignIn")},cancelDialog:function(){var t=this;t.dialog=!1},openDrawer:function(){this.$store.commit("setDrawer",!0)}},components:{logout:C},computed:{getUser:function(){return this.$store.state.user},getLoading:function(){return this.$store.state.loading}},mounted:function(){}},k=x,V=(a("2a73"),a("526a"),a("40dc")),S=a("5bc1"),D=a("a523"),$=a("132d"),T=a("490a"),A=a("0fd9"),j=Object(p["a"])(k,i,c,!1,null,"dad400a0",null),O=j.exports;v()(j,{VAppBar:V["a"],VAppBarNavIcon:S["a"],VBtn:m["a"],VContainer:D["a"],VDialog:b["a"],VIcon:$["a"],VProgressCircular:T["a"],VRow:A["a"],VSpacer:_["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{app:"",fixed:"",padless:""}},[a("v-card-text",{staticClass:"py-2 black--text text-center"},t._l(t.icons,(function(e,r){return a("v-btn",{key:r,attrs:{icon:"",color:"white",href:e.href}},[a("v-icon",{attrs:{size:"24px",color:"primary"}},[t._v(t._s(e.icon))])],1)})),1),a("v-divider"),a("v-card-text",{staticClass:"py-2 black--text text-center"},[t.getUser?a("post"):t._e(),t._v(" "+t._s((new Date).getFullYear())+" — "),a("strong",[t._v("NTUT SU")])],1)],1)},I=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post",staticStyle:{position:"relative","margin-bottom":"-60px"}},[a("v-btn",{attrs:{color:"thrCard",fab:"",elevation:"0"},on:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-message-text ")])],1),a("card",{attrs:{dialog:t.dialog},on:{"cancel-dialog":t.cancelDialog}})],1)},R=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-dialog",{attrs:{persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline primary--text"},[t._v("議題卡片")])]),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"標題",messages:"",clearable:"",hint:"必填","persistent-hint":"",rules:[t.rules.maxTitle,t.rules.required],counter:"30"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close",label:"文章內容",messages:"",hint:"必填","persistent-hint":"",counter:"150",rules:[t.rules.maxContent,t.rules.required]},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t.getAuthority?a("v-col",[a("v-select",{attrs:{items:t.boolSelect,label:"處理中"},model:{value:t.isProcessing,callback:function(e){t.isProcessing=e},expression:"isProcessing"}}),a("v-select",{attrs:{items:t.boolSelect,label:"處理完畢"},model:{value:t.isArchived,callback:function(e){t.isArchived=e},expression:"isArchived"}})],1):t._e(),a("v-card-actions",[a("v-select",{attrs:{items:t.items,label:"案件類型",rules:[t.rules.mustSelect]},model:{value:t.issueType,callback:function(e){t.issueType=e},expression:"issueType"}}),a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.post}},[t._v("Post")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Close")])],1)],1)],1)],1)],1)},B=[],P=a("8aa5"),F=a.n(P);function H(t,e,a,r,n,s){var i=F.a.firestore(),c=new Date,o=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate();i.collection("issues").doc(t.uid+""+c).set({content:a,isArchived:n,isProcessing:s,isDeleted:!1,issueType:r,likes:0,owner:t.uid,postDate:o,postBy:t.email,title:e,timestamp:c}).then((function(){i.collection("users").doc(t.uid).update({lastSend:c})})).catch((function(t){return alert("發文太快囉，稍等一下吧 | 記得要用北科信箱喔！"),t}))}var N={data:function(){return{valid:!1,title:"",content:"",issueType:null,isProcessing:!1,isArchived:!1,items:["學校設備","資訊軟體","經費問題","場地環境","課程授課","國際競賽","交換學生","其他類型"],boolSelect:[!0,!1],rules:{required:function(t){return!!t||"必填"},maxTitle:function(t){return(t||"").length<=30||"文章內容必須小於30個字"},maxContent:function(t){return(t||"").length<=150||"文章內容必須小於150個字"},mustSelect:function(t){return!!t||"請選擇議題類型"}}}},props:["dialog"],components:{},methods:{post:function(){var t=this;this.$refs.form.validate()&&(t.getAuthority?H(t.getUser,t.title,t.content,t.issueType,t.isArchived,t.isProcessing):H(t.getUser,t.title,t.content,t.issueType,!1,!1),this.$emit("cancel-dialog"),t.title="",t.content="",t.issueType=null,t.isArchived=!1,t.isProcessing=!1)},close:function(){this.$emit("cancel-dialog")}},computed:{getUser:function(){return this.$store.state.user},getAuthority:function(){return this.$store.state.isAdmin}},mounted:function(){}},z=N,G=a("62ad"),K=a("4bd4"),M=a("b974"),q=a("8654"),Y=a("a844"),W=Object(p["a"])(z,L,B,!1,null,null,null),J=W.exports;v()(W,{VBtn:m["a"],VCard:h["a"],VCardActions:g["a"],VCardTitle:g["c"],VCol:G["a"],VDialog:b["a"],VForm:K["a"],VRow:A["a"],VSelect:M["a"],VSpacer:_["a"],VTextField:q["a"],VTextarea:Y["a"]});var Q={data:function(){return{dialog:!1}},components:{card:J},methods:{cancelDialog:function(){this.dialog=!1}},computed:{},mounted:function(){}},Z=Q,X=(a("c936"),Object(p["a"])(Z,E,R,!1,null,null,null)),tt=X.exports;v()(X,{VBtn:m["a"],VIcon:$["a"]});var et={data:function(){return{icons:[{icon:"mdi-facebook",href:"https://www.facebook.com/TaipeiTechSU/"},{icon:"mdi-instagram",href:"https://www.instagram.com/ntut_su/"},{icon:"mdi-youtube",href:"https://www.youtube.com/channel/UCYE4ivIc2WiBx5aGiiIw80w"}]}},methods:{},components:{post:tt},computed:{getUser:function(){return this.$store.state.user}}},at=et,rt=a("553a"),nt=Object(p["a"])(at,U,I,!1,null,null,null),st=nt.exports;v()(nt,{VBtn:m["a"],VCardText:g["b"],VDivider:y["a"],VFooter:rt["a"],VIcon:$["a"]});var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-navigation-drawer",{staticClass:"primary",attrs:{width:"100%",fixed:"",temporary:""},model:{value:t.drawerState,callback:function(e){t.drawerState=e},expression:"drawerState"}},[a("v-btn",{attrs:{icon:"",fab:"",color:"black",fixed:"",large:""},on:{click:t.closeDrawer}},[a("v-icon",{attrs:{color:"white"}},[t._v("mdi-close")])],1),a("v-list-item"),t.getUser?a("v-list-item-group",[a("v-list-item"),a("v-list-item",[a("h1",{staticClass:"white--text"},[a("v-avatar",{attrs:{color:"white"}},[a("v-img",{attrs:{src:t.getUser.photoURL}})],1),t._v(" "+t._s(t.getUser.displayName)+" ")],1)]),a("v-list-item",[a("h3",{staticClass:"white--text"},[t._v("Email | "+t._s(t.getUser.email))])]),a("v-list-item",[a("v-divider",{staticClass:"white"})],1)],1):a("v-list-item-group",[a("v-list-item"),a("v-list-item",[a("h1",{staticClass:"white--text"},[t._v("請先登入北科信箱")])]),a("v-list-item",[a("v-divider",{staticClass:"white"})],1)],1),a("v-list-item-group",[a("v-list-item",[a("h2",{staticClass:"white--text"},[t._v("發文規則")])]),t._l(t.rule,(function(e,r){return a("v-list-item",{key:r},[a("p",{staticClass:"white--text text-xs-right"},[a("br"),t._v(" "+t._s(e.text)+" "),a("br")])])})),a("v-list-item",[a("v-divider",{staticClass:"white"})],1)],2),a("v-btn",{attrs:{fab:"",icon:"",href:t.icons[0].href}},[a("v-icon",{attrs:{large:"",color:"white"}},[t._v(t._s(t.icons[0].i))])],1),a("v-btn",{attrs:{fab:"",icon:"",href:t.icons[1].href}},[a("v-icon",{attrs:{large:"",color:"white"}},[t._v(t._s(t.icons[1].i))])],1),a("v-btn",{attrs:{fab:"",icon:"",href:t.icons[2].href}},[a("v-icon",{attrs:{large:"",color:"white"}},[t._v(t._s(t.icons[2].i))])],1)],1)},ct=[],ot={data:function(){return{icons:[{i:"mdi-facebook",href:"https://www.facebook.com/TaipeiTechSU/"},{i:"mdi-instagram",href:"https://www.instagram.com/ntut_su/"},{i:"mdi-youtube",href:"https://www.youtube.com/channel/UCYE4ivIc2WiBx5aGiiIw80w"}],rule:[{text:"1. 發文有冷卻的時間"},{text:"2. 處理中的問題將會放學校回覆，所以無法留言"},{text:"3. 討論版請尊重他人"},{text:"* 違規情節嚴重且多次屢犯，封鎖該使用者帳號"}]}},methods:{closeDrawer:function(){this.$store.commit("setDrawer",!1)}},computed:{getUser:{get:function(){return this.$store.state.user}},drawerState:{get:function(){return this.$store.state.drawer},set:function(t){this.$store.commit("setDrawer",t)}}}},lt=ot,ut=(a("bf85"),a("8212")),dt=a("adda"),pt=a("da13"),ft=a("1baa"),vt=a("f774"),mt=Object(p["a"])(lt,it,ct,!1,null,null,null),ht=mt.exports;v()(mt,{VAvatar:ut["a"],VBtn:m["a"],VDivider:y["a"],VIcon:$["a"],VImg:dt["a"],VListItem:pt["a"],VListItemGroup:ft["a"],VNavigationDrawer:vt["a"]});var gt={name:"App",components:{appbar:O,footbar:st,drawerbar:ht},data:function(){return{}},methods:{}},bt=gt,yt=a("7496"),_t=a("a75b"),wt=Object(p["a"])(bt,n,s,!1,null,null,null),Ct=wt.exports;v()(wt,{VApp:yt["a"],VContent:_t["a"]});a("d3b7");var xt=a("8c4f"),kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"home"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[a("v-card",{attrs:{color:"white",tile:"",elevation:"0"}},[a("v-card-title",{staticStyle:{"font-size":"40px"}},[t._v("學權超人筆記本")]),a("v-card-text",{staticClass:"white black--text"},[a("br"),a("span",{staticStyle:{color:"#616161"}},[t._v(" # 發文規則同北科全體版 "),a("br"),t._v(" 1. 使用北科信箱登入 "),a("br"),t._v(" 2. 提出自己遇到且希望能得到改善的問題描述，不妨提出解決的方法讓學校知道。 "),a("br"),t._v(" 3. 喜歡或是你也有困擾的問題可以點個愛心，越多關注就能讓學校越快處理 ")])])],1)],1)],1),a("desktop",{staticClass:"hidden-xs-only"}),a("mobile",{staticClass:"hidden-sm-and-up"})],1)},Vt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"pad"},[t.getCards?a("v-row",{staticStyle:{position:"relative",left:"10%"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-tabs",{attrs:{"background-color":"white"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v(" 討論版 ")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v(" 處理中 ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v(" 熱門議題 ")]),a("v-tab",{attrs:{href:"#tab-4"}},[t._v(" 處理完畢 ")]),t.login?a("v-tab",{attrs:{href:"#tab-5"}},[t._v(" 我的收藏 ")]):t._e(),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("container",{attrs:{cards:t.getCards,type:0}})],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("container",{attrs:{cards:t.getCards,type:1}})],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("container",{attrs:{cards:t.getCards,type:2}})],1),a("v-tab-item",{attrs:{value:"tab-4"}},[a("container",{attrs:{cards:t.getCards,type:3}})],1),a("v-tab-item",{attrs:{value:"tab-5"}},[a("container",{attrs:{cards:t.getCards,type:4}})],1)],1)],1)],1)],1):t._e()],1)},Dt=[],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"procdiscussess",staticStyle:{position:"relative",left:"-13%"}},[t.cards&&0==t.type?a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(t){return 0==t.data.isDeleted&&0==t.data.isArchived&&0==t.data.isProcessing})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"10",md:"8",lg:"7"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1):t._e(),t.cards&&1==t.type?a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(t){return 0==t.data.isDeleted&&0==t.data.isArchived&&1==t.data.isProcessing})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"10",md:"8",lg:"7"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1):t._e(),t.cards&&2==t.type?a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(t){return t.data.likes>=10&&0==t.data.isDeleted&&0==t.data.isArchived})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"10",md:"8",lg:"7"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1):t._e(),t.cards&&3==t.type?a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(t){return t.data.isArchived&&0==t.data.isDeleted})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"10",md:"8",lg:"7"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1):t._e(),t.cards&&4==t.type?a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(e){return t.getUser.email==e.data.postBy&&0==e.data.isDeleted})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"10",md:"8",lg:"7",justify:"center"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1):t._e()],1)},Tt=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{elevation:"3",tile:""}},[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-card",{staticStyle:{postition:"relative",top:"-12px"},attrs:{color:"cardHeader",elevation:"0",height:"35%",width:"20",tile:""}}),a("v-card",{attrs:{color:"white",elevation:"0",tile:"",height:"36%",width:"20"}}),a("v-card",{staticStyle:{postition:"relative",top:"-2px"},attrs:{color:"primary",elevation:"0",height:"35%",width:"20",tile:""}})],1),a("v-col",{attrs:{cols:"8"}},[a("v-card-title",{staticStyle:{position:"relative",left:"-4%"}},[t._v(t._s(t.card.data.title))]),a("br"),a("v-card",{attrs:{height:"70",elevation:"0"}},[a("span",[t._v(t._s(t.card.data.content))])]),a("br"),a("small",[t._v("Post by - "+t._s(t.card.data.postBy))]),a("small",{staticClass:"small-float--right pa-0"},[t._v("Date - "+t._s(t.card.data.postDate)+" ")]),a("hr"),a("v-btn",{staticClass:"span-card-tag",attrs:{color:"primary",elevation:"0",tile:""}},[t._v("#"+t._s(t.card.data.issueType))]),a("v-btn",{staticClass:"small-float--right",attrs:{text:""}},[t._v("留言數 (0)")])],1),a("v-col",{attrs:{cols:"auto"}},[a("v-row",{staticClass:"flex-column ma-0",staticStyle:{position:"relative",top:"50px"},attrs:{justify:"center"}},[a("v-col",{staticClass:"px-0"},[t.getAuthority&&0==t.cardType?a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){t.processSelf=!0}}},[a("v-icon",{attrs:{color:"cardContent"}},[t._v("mdi-sword")])],1):t._e(),a("processDialog",{attrs:{processSelf:t.processSelf,card:t.card},on:{"cancel-dialog":t.cancelDialog}})],1),a("v-col",{staticClass:"px-0"},[a("v-btn",{attrs:{icon:"",color:"white"},on:{click:t.clickLike}},[t.clicked?a("v-icon",{attrs:{color:"primary"}},[t._v(t._s(t.iconSupport))]):a("v-icon",{attrs:{color:"primary"}},[t._v(t._s(t.iconDefault))])],1),a("span",[t._v(t._s(t.card.data.likes))])],1)],1)],1),a("v-col",{staticStyle:{position:"relative",left:"-2%"},attrs:{cols:"auto"}},[a("v-row",{staticClass:"flex-column ma-0",staticStyle:{position:"relative",top:"50px"},attrs:{justify:"center"}},[a("v-col",{staticClass:"px-0"},[t.getAuthority&&2!=t.cardType?a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){t.deleteSelf=!0}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-trash-can")])],1):t._e(),a("deleteDialog",{attrs:{deleteSelf:t.deleteSelf,card:t.card},on:{"cancel-dialog":t.cancelDialog}})],1),a("v-col",{staticClass:"px-0"},[t.getAuthority&&0==t.cardType?a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){t.archiveSelf=!0}}},[a("v-icon",{attrs:{color:"cardContent"}},[t._v("mdi-archive")]),a("archiveDialog",{attrs:{archiveSelf:t.archiveSelf,card:t.card},on:{"cancel-dialog":t.cancelDialog}})],1):t._e()],1)],1)],1)],1)],1)],1)},jt=[],Ot=(a("96cf"),a("1da1")),Ut=a("ade3"),It=(a("caad"),a("2f62"));function Et(){var t=new F.a.auth.GoogleAuthProvider;F.a.auth().languageCode="zh-TW",t.setCustomParameters({hd:"ntut.org.tw"}),F.a.auth().signInWithRedirect(t)}function Rt(){F.a.auth().signOut()}a("4160"),a("159b");function Lt(){return Bt.apply(this,arguments)}function Bt(){return Bt=Object(Ot["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=F.a.firestore(),e.collection("issues").onSnapshot((function(t){var e=[];t.forEach(function(){var t=Object(Ot["a"])(regeneratorRuntime.mark((function t(a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pt(a,"comments");case 2:return r=t.sent,t.next=5,Pt(a,"discuss");case 5:n=t.sent,e.push({id:a.id,data:a.data(),comments:r,discuss:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Nt.commit("setCards",e)}),(function(t){return t}));case 2:case"end":return t.stop()}}),t)}))),Bt.apply(this,arguments)}function Pt(t,e){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(Ot["a"])(regeneratorRuntime.mark((function t(e,a){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=F.a.firestore(),n=[],r.collection("issues").doc(e.id).collection(a).get().then((function(t){t.forEach((function(t){n.push({data:t.data(),id:t.id})}))})),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),Ft.apply(this,arguments)}function Ht(){var t=F.a.firestore(),e=F.a.auth().currentUser,a=t.collection("users").doc(e.uid);a.get().then((function(a){a.exists?(console.log("Signin"),t.collection("users").doc(e.uid).update({lastSignin:new Date})):t.collection("users").doc(e.uid).set({userId:e.uid,displayName:e.displayName,email:e.email,lastSignin:new Date,lastSend:F.a.firestore.FieldValue.serverTimestamp()}).then((function(){console.log("register")})).catch((function(t){return t}))})).catch((function(t){return console.log(t),t})).finally((function(){Nt.commit("setLoading",!1)}))}r["default"].use(It["a"]);var Nt=new It["a"].Store({state:{drawer:!1,user:null,error:null,login:!1,cards:null,isAdmin:!1,loading:!1},mutations:{setUser:function(t,e){t.user=e;var a=["t107590017@ntut.org.tw","ntutsuse15@gmail.com"];a.includes(e.email)&&(t.isAdmin=!0)},setError:function(t,e){t.error=e},setLogin:function(t,e){t.login=e},setCards:function(t,e){t.cards=e},setDrawer:function(t,e){t.drawer=e},setNTUT:function(t,e){t.isntut=e},setLoading:function(t,e){t.loading=e}},actions:{userSignIn:function(){Et()},autoSignIn:function(t,e){var a=t.commit;a("setUser",e),a("setLogin",!0),Ht()},setCardsAction:function(){Lt()},userSignOut:function(t){var e=t.commit;Rt(),e("setUser",null)}},getters:{}});function zt(t,e,a){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(Ot["a"])(regeneratorRuntime.mark((function t(e,a,r){var n,s,i,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=F.a.firestore(),s=r.uid,i=r.email,e>0&&!Kt(a,s)?(c=a.data.likes+1,n.collection("issues").doc(a.id).update(Object(Ut["a"])({likes:c},s,i))):(o=a.data.likes-1,o<0&&(o=0),n.collection("issues").doc(a.id).update(Object(Ut["a"])({likes:o},s,F.a.firestore.FieldValue.delete())),Nt.dispatch("setCardsAction"));case 4:case"end":return t.stop()}}),t)}))),Gt.apply(this,arguments)}function Kt(t,e){var a=!1;return t.data[e]&&(a=!0),a}var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.deleteSelf,callback:function(e){t.deleteSelf=e},expression:"deleteSelf"}},[a("v-card",[a("v-card-title",{staticClass:"headline secondary lighten-2",attrs:{"primary-title":""}},[a("p",{staticClass:"white--text"},[t._v("確定要刪除嗎?")])]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.doDelete}},[t._v(" OK ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)],1)},qt=[];function Yt(t){var e=F.a.firestore();e.collection("issues").doc(t.id).update({isDeleted:!0})}var Wt={data:function(){return{}},props:["deleteSelf","card"],components:{},methods:{doDelete:function(){var t=this;(t.getAuthority||t.isOwer)&&Yt(t.card),t.$emit("cancel-dialog")},cancel:function(){var t=this;t.$emit("cancel-dialog")}},computed:{getUser:function(){return this.$store.state.user},login:function(){return this.$store.state.login},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},isOwer:function(){return this.getUser.email==this.card.data.postBy}},mounted:function(){}},Jt=Wt,Qt=Object(p["a"])(Jt,Mt,qt,!1,null,null,null),Zt=Qt.exports;v()(Qt,{VBtn:m["a"],VCard:h["a"],VCardActions:g["a"],VCardTitle:g["c"],VDialog:b["a"],VDivider:y["a"],VSpacer:_["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.archiveSelf,callback:function(e){t.archiveSelf=e},expression:"archiveSelf"}},[a("v-card",[a("v-card-title",{staticClass:"headline secondary lighten-2",attrs:{"primary-title":""}},[a("p",{staticClass:"white--text"},[t._v("確定要封存嗎?")])]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.doArchive}},[t._v(" OK ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)],1)},te=[];function ee(t){return ae.apply(this,arguments)}function ae(){return ae=Object(Ot["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=F.a.firestore(),t.next=3,a.collection("issues").doc(e.id).get().then(function(){var t=Object(Ot["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.exists){t.next=6;break}return t.next=3,e.data().isArchived;case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log("Error getting document:",t)}));case 3:r=t.sent,a.collection("issues").doc(e.id).update({isArchived:!r});case 5:case"end":return t.stop()}}),t)}))),ae.apply(this,arguments)}var re={data:function(){return{}},props:["archiveSelf","card"],components:{},methods:{doArchive:function(){var t=this;t.getAuthority&&ee(t.card),t.$emit("cancel-dialog")},cancel:function(){var t=this;t.$emit("cancel-dialog")}},computed:{getUser:function(){return this.$store.state.user},login:function(){return this.$store.state.login},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},isOwer:function(){return this.getUser.email==this.card.data.postBy}},mounted:function(){}},ne=re,se=Object(p["a"])(ne,Xt,te,!1,null,null,null),ie=se.exports;v()(se,{VBtn:m["a"],VCard:h["a"],VCardActions:g["a"],VCardTitle:g["c"],VDialog:b["a"],VDivider:y["a"],VSpacer:_["a"]});var ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.processSelf,callback:function(e){t.processSelf=e},expression:"processSelf"}},[a("v-card",[a("v-card-title",{staticClass:"headline secondary lighten-2",attrs:{"primary-title":""}},[a("p",{staticClass:"white--text"},[t._v("確定要處理這個議題嗎?")])]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.doProcess}},[t._v(" OK ")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v(" Cancel ")])],1)],1)],1)},oe=[];function le(t){return ue.apply(this,arguments)}function ue(){return ue=Object(Ot["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=F.a.firestore(),t.next=3,a.collection("issues").doc(e.id).get().then(function(){var t=Object(Ot["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.exists){t.next=6;break}return t.next=3,e.data().isProcessing;case 3:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.log("Error getting document:",t)}));case 3:r=t.sent,a.collection("issues").doc(e.id).update({isProcessing:!r});case 5:case"end":return t.stop()}}),t)}))),ue.apply(this,arguments)}var de={data:function(){return{}},props:["processSelf","card"],components:{},methods:{doProcess:function(){var t=this;t.getAuthority&&le(t.card),t.$emit("cancel-dialog")},cancel:function(){var t=this;t.$emit("cancel-dialog")}},computed:{getUser:function(){return this.$store.state.user},login:function(){return this.$store.state.login},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},isOwer:function(){return this.getUser.email==this.card.data.postBy}},mounted:function(){}},pe=de,fe=Object(p["a"])(pe,ce,oe,!1,null,null,null),ve=fe.exports;v()(fe,{VBtn:m["a"],VCard:h["a"],VCardActions:g["a"],VCardTitle:g["c"],VDialog:b["a"],VDivider:y["a"],VSpacer:_["a"]});var me={name:"card",props:["card","cardType"],data:function(){return{iconDefault:"mdi-heart-outline",iconSupport:"mdi-heart",cardTitle:"Title",cardText:"Content",clicked:!1,deleteSelf:!1,archiveSelf:!1,processSelf:!1}},components:{deleteDialog:Zt,archiveDialog:ie,processDialog:ve},methods:{clickLike:function(){var t=this;return Object(Ot["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.getUser&&(a.likedDetect(),a.clicked=!a.clicked,a.clicked?(zt(1,a.card,t.$store.state.user),a.card.data.likes++):(zt(-1,a.card,t.$store.state.user),a.card.data.likes--));case 2:case"end":return e.stop()}}),e)})))()},likedDetect:function(){var t=this,e=t.$store.state.user.uid;t.clicked=!1,t.card.data[e]&&(t.clicked=!0)},cancelDialog:function(){var t=this;t.deleteSelf=!1,t.archiveSelf=!1,t.processSelf=!1}},computed:{getUser:function(){return this.$store.state.user},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},isOwer:function(){return this.getUser.email==this.cardInfo.data.postBy}},mounted:function(){this.likedDetect()}},he=me,ge=Object(p["a"])(he,At,jt,!1,null,null,null),be=ge.exports;v()(ge,{VBtn:m["a"],VCard:h["a"],VCardTitle:g["c"],VCol:G["a"],VIcon:$["a"],VRow:A["a"]});var ye={name:"container",props:["cards","type"],data:function(){return{}},components:{card:be},methods:{},computed:{getUser:function(){return this.$store.state.user},getCards:function(){return this.$store.state.cards}},mounted:function(){}},_e=ye,we=Object(p["a"])(_e,$t,Tt,!1,null,null,null),Ce=we.exports;v()(we,{VCol:G["a"],VContainer:D["a"],VRow:A["a"]});var xe={name:"Home",data:function(){return{cards:null,tab:null,speechIcon1:"mdi-heart",speechIcon2:"mdi-heart-outline"}},components:{container:Ce},methods:{},computed:{login:function(){return this.$store.state.login},getCards:function(){return this.$store.state.cards}},mounted:function(){}},ke=xe,Ve=(a("aff4"),a("71a3")),Se=a("c671"),De=a("fe57"),$e=a("aac8"),Te=Object(p["a"])(ke,St,Dt,!1,null,null,null),Ae=Te.exports;v()(Te,{VApp:yt["a"],VCol:G["a"],VRow:A["a"],VTab:Ve["a"],VTabItem:Se["a"],VTabs:De["a"],VTabsItems:$e["a"]});var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"home"},[a("v-tabs",{attrs:{"background-color":"white","show-arrows":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{href:"#tab-1"}},[t._v(" 討論版 ")]),a("v-tab",{attrs:{href:"#tab-2"}},[t._v(" 處理中 ")]),a("v-tab",{attrs:{href:"#tab-3"}},[t._v(" 熱門議題 ")]),a("v-tab",{attrs:{href:"#tab-4"}},[t._v(" 處理完畢 ")]),t.login?a("v-tab",{attrs:{href:"#tab-5"}},[t._v(" 我的收藏 ")]):t._e(),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("discuss",{attrs:{cards:t.getCards}})],1),a("v-tab-item",{attrs:{value:"tab-2"}},[a("process",{attrs:{cards:t.getCards}})],1),a("v-tab-item",{attrs:{value:"tab-3"}},[a("popular",{attrs:{cards:t.getCards}})],1),a("v-tab-item",{attrs:{value:"tab-4"}},[a("finish",{attrs:{cards:t.getCards}})],1),a("v-tab-item",{attrs:{value:"tab-5"}},[a("possess",{attrs:{cards:t.getCards}})],1)],1)],1)],1)},Oe=[],Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"procdiscussess"},[t.cards?a("v-row",t._l(t.cards.filter((function(t){return 0==t.data.isDeleted&&0==t.data.isArchived&&0==t.data.isProcessing})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"12",md:"6",lg:"4",justify:"center"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1):t._e()],1)},Ie=[],Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{elevation:"2",tile:""}},[a("v-card-title",[t._v(t._s(t.card.data.title))]),a("v-card-text",{staticClass:"white black--text"},[a("br"),a("span",{staticClass:"span-card-tag"},[t._v("#"+t._s(t.card.data.issueType))]),a("hr"),a("span",[t._v(t._s(t.card.data.content))]),a("hr"),a("small",[t._v("Post by - "+t._s(t.card.data.postBy))]),a("small",{staticClass:"small-float--right"},[t._v("Date - "+t._s(t.card.data.postDate)+" ")])]),a("v-card-actions",[a("v-btn",{attrs:{icon:"",color:"white"},on:{click:t.clickLike}},[t.clicked?a("v-icon",{attrs:{color:"primary"}},[t._v(t._s(t.iconSupport))]):a("v-icon",{attrs:{color:"primary"}},[t._v(t._s(t.iconDefault))])],1),a("span",[t._v(t._s(t.card.data.likes))]),a("v-spacer"),t.getAuthority&&0==t.cardType?a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){t.processSelf=!0}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-sword")])],1):t._e(),a("processDialog",{attrs:{processSelf:t.processSelf,card:t.card},on:{"cancel-dialog":t.cancelDialog}}),t.getAuthority&&2!=t.cardType?a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){t.deleteSelf=!0}}},[a("v-icon",{attrs:{color:"cardContent"}},[t._v("mdi-trash-can")])],1):t._e(),a("deleteDialog",{attrs:{deleteSelf:t.deleteSelf,card:t.card},on:{"cancel-dialog":t.cancelDialog}}),t.getAuthority&&0==t.cardType?a("v-btn",{attrs:{icon:"",color:"white"},on:{click:function(e){t.archiveSelf=!0}}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-archive")])],1):t._e(),a("archiveDialog",{staticClass:"white",attrs:{archiveSelf:t.archiveSelf,card:t.card},on:{"cancel-dialog":t.cancelDialog}})],1),t.card.data.isProcessing?a("commentView",{attrs:{card:t.card}}):a("discussView",{staticClass:"white",attrs:{card:t.card}})],1)],1)},Re=[],Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-group",{attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("問題回覆")])],1)]},proxy:!0}])},[t.getAuthority?a("v-list-item",[a("v-text-field",{staticClass:"pa-0 comment-message",attrs:{label:"回覆","single-line":"",messages:""},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}}),a("v-btn",{staticClass:"comment-message",attrs:{icon:"",fab:""},on:{click:t.doReply}},[a("v-icon",[t._v(" mdi-send ")])],1)],1):t._e(),t._l(t.card.comments.filter((function(t){return 0==t.data.isDeleted})),(function(e,r){return a("v-list-item",{key:r,staticClass:"pa-0"},[a("v-list-item-content",{staticClass:"pa-0 list-comment"},[a("p",{staticClass:"p-comment-title"},[t._v(t._s(e.data.reply))]),a("p",{staticClass:"p-comment-postBy"},[t._v(t._s(e.data.postBy))])]),t.getAuthority?a("v-btn",{staticClass:"btn-delete-comment",attrs:{icon:"",fab:""},on:{click:function(a){return t.deleteComment(e,r)}}},[a("v-icon",[t._v(" mdi-delete ")])],1):t._e()],1)}))],2)},Be=[];a("a434");function Pe(t,e,a,r,n){var s=F.a.firestore(),i=new Date,c=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate();s.collection("issues").doc(e.id).collection(n).doc(r).set({reply:a,postBy:t.email,postDate:c,likes:0,isDeleted:!1}).then((function(){s.collection("users").doc(t.uid).update({lastSend:i})})).catch((function(t){return alert("留言太快囉，稍等一下吧 | 記得要用北科信箱喔！"),t}))}function Fe(t,e,a){var r=F.a.firestore();r.collection("issues").doc(t.id).collection(a).doc(e.id).update({isDeleted:!0})}var He={name:"comments",props:["card"],data:function(){return{reply:"",replyLen:0}},components:{},methods:{doReply:function(){var t=this;if(""!=t.reply){var e=t.getUser.uid+new Date;Pe(t.getUser,t.card,t.reply,e,"comments"),t.updateCard(e)}t.reply=""},deleteComment:function(t,e){var a=this;Fe(a.card,t,"comments"),a.card.comments.splice(e,1),a.replyLen--},updateCard:function(t){var e=this;e.card.comments.unshift({data:{reply:e.reply,postBy:e.getUser.email,isDeleted:!1},id:t})}},computed:{getUser:function(){return this.$store.state.user},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},getLen:function(){return this.card.comments.length}},mounted:function(){}},Ne=He,ze=(a("c99a"),a("56b0")),Ge=a("5d23"),Ke=Object(p["a"])(Ne,Le,Be,!1,null,null,null),Me=Ke.exports;v()(Ke,{VBtn:m["a"],VIcon:$["a"],VListGroup:ze["a"],VListItem:pt["a"],VListItemContent:Ge["a"],VListItemTitle:Ge["b"],VTextField:q["a"]});var qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-group",{attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("問題討論")])],1)]},proxy:!0}])},[t.getUser?a("v-list-item",[a("v-text-field",{staticClass:"pa-0 comment-message",attrs:{label:"回覆","single-line":"",messages:""},model:{value:t.reply,callback:function(e){t.reply=e},expression:"reply"}}),a("v-btn",{staticClass:"comment-message",attrs:{icon:"",fab:""},on:{click:t.doReply}},[a("v-icon",[t._v(" mdi-send ")])],1)],1):t._e(),t._l(t.card.discuss.filter((function(t){return 0==t.data.isDeleted})),(function(e,r){return a("v-list-item",{key:r,staticClass:"pa-0"},[a("v-list-item-content",{staticClass:"pa-0 list-comment"},[a("p",{staticClass:"p-comment-title"},[t._v(t._s(e.data.reply))]),a("p",{staticClass:"p-comment-postBy"},[t._v(t._s(e.data.postBy))])]),t.getAuthority?a("v-btn",{staticClass:"btn-delete-comment",attrs:{icon:"",fab:""},on:{click:function(a){return t.deleteComment(e,r)}}},[a("v-icon",[t._v(" mdi-delete ")])],1):t._e()],1)}))],2)},Ye=[],We={name:"discuss",props:["card"],data:function(){return{reply:"",replyLen:0}},components:{},methods:{doReply:function(){var t=this;if(""!=t.reply){var e=t.getUser.uid+new Date;Pe(t.getUser,t.card,t.reply,e,"discuss"),t.updateCard(e)}t.reply=""},deleteComment:function(t,e){var a=this;Fe(a.card,t,"discuss"),a.card.discuss.splice(e,1),a.replyLen--},updateCard:function(t){var e=this;e.card.discuss.unshift({data:{reply:e.reply,postBy:e.getUser.email,isDeleted:!1},id:t})}},computed:{getUser:function(){return this.$store.state.user},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},getLen:function(){return this.card.discuss.length}},mounted:function(){}},Je=We,Qe=(a("ba6c"),Object(p["a"])(Je,qe,Ye,!1,null,null,null)),Ze=Qe.exports;v()(Qe,{VBtn:m["a"],VIcon:$["a"],VListGroup:ze["a"],VListItem:pt["a"],VListItemContent:Ge["a"],VListItemTitle:Ge["b"],VTextField:q["a"]});var Xe={name:"card",props:["card","cardType"],data:function(){return{iconDefault:"mdi-heart-outline",iconSupport:"mdi-heart",cardTitle:"Title",cardText:"Content",clicked:!1,deleteSelf:!1,archiveSelf:!1,processSelf:!1,tempCard:null}},components:{commentView:Me,discussView:Ze,deleteDialog:Zt,archiveDialog:ie,processDialog:ve},methods:{clickLike:function(){var t=this;return Object(Ot["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.getUser&&(a.likedDetect(),a.clicked=!a.clicked,a.clicked?(zt(1,a.card,t.$store.state.user),a.card.data.likes++):(zt(-1,a.card,t.$store.state.user),a.card.data.likes--));case 2:case"end":return e.stop()}}),e)})))()},likedDetect:function(){var t=this,e=t.$store.state.user.uid;t.clicked=!1,t.card.data[e]&&(t.clicked=!0)},cancelDialog:function(){var t=this;t.deleteSelf=!1,t.archiveSelf=!1,t.processSelf=!1}},computed:{getUser:function(){return this.$store.state.user},getCards:function(){return this.$store.state.cards},getAuthority:function(){return this.$store.state.isAdmin},isOwer:function(){return this.getUser.email==this.cardInfo.data.postBy}},mounted:function(){this.likedDetect()}},ta=Xe,ea=(a("d54f"),Object(p["a"])(ta,Ee,Re,!1,null,null,null)),aa=ea.exports;v()(ea,{VBtn:m["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VIcon:$["a"],VSpacer:_["a"]});var ra={name:"discuss",props:["cards"],data:function(){return{}},components:{card:aa},methods:{},computed:{},mounted:function(){}},na=ra,sa=Object(p["a"])(na,Ue,Ie,!1,null,null,null),ia=sa.exports;v()(sa,{VCol:G["a"],VContainer:D["a"],VRow:A["a"]});var ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"process"},[a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(t){return 0==t.data.isDeleted&&0==t.data.isArchived&&1==t.data.isProcessing})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"12",md:"6",lg:"4"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1)],1)},oa=[],la={name:"process",props:["cards"],data:function(){return{}},components:{card:aa},methods:{},computed:{},mounted:function(){}},ua=la,da=Object(p["a"])(ua,ca,oa,!1,null,null,null),pa=da.exports;v()(da,{VCol:G["a"],VContainer:D["a"],VRow:A["a"]});var fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"popular"},[a("v-row",{attrs:{justify:"center"}},t._l(t.sortedCards.filter((function(t){return t.data.likes>=10&&0==t.data.isDeleted&&0==t.data.isArchived})),(function(t,e){return a("v-col",{key:e,staticClass:"div-parent",attrs:{cols:"12",md:"6",lg:"4"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1)],1)},va=[],ma={name:"popular",props:["cards"],data:function(){return{sortedCards:[]}},components:{card:aa},methods:{doSort:function(){var t=this;return Object(Ot["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,a.sortedCards=a.cards.sort((function(t,e){return e.data.likes-t.data.likes}));case 2:case"end":return e.stop()}}),e)})))()}},computed:{getCards:function(){return this.$store.state.cards}},mounted:function(){this.doSort()}},ha=ma,ga=Object(p["a"])(ha,fa,va,!1,null,null,null),ba=ga.exports;v()(ga,{VCol:G["a"],VContainer:D["a"],VRow:A["a"]});var ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.cards?a("v-container",{staticClass:"finished"},[a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(t){return t.data.isArchived&&0==t.data.isDeleted})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"12",md:"6",lg:"4"}},[a("card",{attrs:{card:t,cardType:0}})],1)})),1)],1):t._e()},_a=[],wa={name:"finished",props:["cards"],data:function(){return{}},components:{card:aa},methods:{},computed:{},mounted:function(){}},Ca=wa,xa=Object(p["a"])(Ca,ya,_a,!1,null,null,null),ka=xa.exports;v()(xa,{VCol:G["a"],VContainer:D["a"],VRow:A["a"]});var Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.cards?a("v-container",{staticClass:"possess"},[a("v-row",{attrs:{justify:"center"}},t._l(t.cards.filter((function(e){return t.getUser.email==e.data.postBy&&0==e.data.isDeleted})),(function(t,e){return a("v-col",{key:e,attrs:{cols:"12",md:"6",lg:"4"}},[a("card",{attrs:{card:t,cardType:1}})],1)})),1)],1):t._e()},Sa=[],Da={name:"possess",props:["cards"],data:function(){return{}},components:{card:aa},methods:{},computed:{getUser:function(){return this.$store.state.user}},mounted:function(){}},$a=Da,Ta=Object(p["a"])($a,Va,Sa,!1,null,null,null),Aa=Ta.exports;v()(Ta,{VCol:G["a"],VContainer:D["a"],VRow:A["a"]});var ja={name:"Home",data:function(){return{cards:null,tab:null,speechIcon1:"mdi-heart",speechIcon2:"mdi-heart-outline"}},components:{discuss:ia,process:pa,popular:ba,finish:ka,possess:Aa},methods:{},computed:{login:function(){return this.$store.state.login},getCards:function(){return this.$store.state.cards}},mounted:function(){}},Oa=ja,Ua=(a("3c47"),Object(p["a"])(Oa,je,Oe,!1,null,null,null)),Ia=Ua.exports;v()(Ua,{VApp:yt["a"],VTab:Ve["a"],VTabItem:Se["a"],VTabs:De["a"],VTabsItems:$e["a"]});var Ea={name:"Home",data:function(){return{tab:null,speechIcon1:"mdi-heart",speechIcon2:"mdi-heart-outline"}},components:{desktop:Ae,mobile:Ia},methods:{setDefaultCards:function(){var t=this;t.$store.dispatch("setCardsAction"),t.cards=this.$store.state.cards}},computed:{},mounted:function(){this.setDefaultCards()}},Ra=Ea,La=(a("cccb"),Object(p["a"])(Ra,kt,Vt,!1,null,null,null)),Ba=La.exports;v()(La,{VApp:yt["a"],VCard:h["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:G["a"],VRow:A["a"]}),r["default"].use(xt["a"]);var Pa=[{path:"/",name:"Home",component:Ba},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Fa=new xt["a"]({mode:"history",base:"/super-card/",routes:Pa}),Ha=Fa,Na=a("ce5b"),za=a.n(Na),Ga=(a("bf40"),a("aa47")),Ka=a.n(Ga);r["default"].use(za.a);var Ma=new za.a({theme:{options:{customProperties:!0},themes:{light:{primary:"#ef9a9a",secondary:"#263238",priCard:"#D7DCDE",secCard:"#3E516E",thrCard:"#3E516E",forCard:"#8891A1",cardHeader:"#1976d2",cardFooter:"#ef9a99",cardContent:"#64b5f6"}}},lang:{locales:{zhHant:Ka.a},current:"zh-Hant"}}),qa={apiKey:"AIzaSyDg4uEG3n5-z7JPNSq1UQxfKN5Q6gji4Z8",authDomain:"super-card-e40a0.firebaseapp.com",databaseURL:"https://super-card-e40a0.firebaseio.com",projectId:"super-card-e40a0",storageBucket:"super-card-e40a0.appspot.com",messagingSenderId:"1013020612712",appId:"1:1013020612712:web:318a69e2d2842bd87f03dd",measurementId:"G-CG6H7LH2Q0"},Ya=qa;r["default"].config.productionTip=!1,F.a.initializeApp(Ya),F.a.analytics(),new r["default"]({router:Ha,store:Nt,vuetify:Ma,render:function(t){return t(Ct)},created:function(){Nt.commit("setLoading",!0),F.a.auth().onAuthStateChanged((function(t){t?Nt.dispatch("autoSignIn",t):Nt.commit("setLoading",!1)}))}}).$mount("#app")},"694e":function(t,e,a){},"6bba":function(t,e,a){},8394:function(t,e,a){},aff4:function(t,e,a){"use strict";var r=a("e9a5"),n=a.n(r);n.a},ba6c:function(t,e,a){"use strict";var r=a("694e"),n=a.n(r);n.a},bf85:function(t,e,a){"use strict";var r=a("2f42"),n=a.n(r);n.a},c936:function(t,e,a){"use strict";var r=a("461e"),n=a.n(r);n.a},c99a:function(t,e,a){"use strict";var r=a("2d31"),n=a.n(r);n.a},cccb:function(t,e,a){"use strict";var r=a("4230"),n=a.n(r);n.a},d131:function(t,e,a){},d54f:function(t,e,a){"use strict";var r=a("40de"),n=a.n(r);n.a},e9a5:function(t,e,a){}});
//# sourceMappingURL=app.e808c59f.js.map